@{
   ViewBag.Title = "HealthTrack Inventory";
}
@Scripts.Render("~/bundles/angularjs")
<script src="~/Scripts/apps/inventoryApp.js"></script>
<script src="~/Scripts/apps/dashController.js"></script>
<div class="content-title-area">
   <div class="row">
      <div class="col-xs-2 col-md-2 logo-big">
         <img src="@Url.Content("~/Content/images/Icons/72x72/Shipping Boxes 2.png")" class="img-responsive"/>
      </div>
      <div class="col-xs-6 col-md-6 col-lg-10 content-title">
         <div class="row">
            <div class="col-sm-12">
               <h2>HealthTrack Inventory</h2>
            </div>
         </div>
         <div class="row">
            <div class="col-lg-12" id="subtitle">
               HealthTrack's inventory system allows you to keep track of your stock, order new products, consume stock and receive stock.
            </div>
         </div>
      </div>
   </div>
</div>
<div class="row row-top-padding">
   <div class="col-lg-12">
      <h3>Notifications</h3>
   </div>
</div>
<div ng-controller="dashController">
   <div data-ng-init="getNotifications()">
      <table  class="table">
         <thead class="thead-light">
         <tr>
            <th class="col-xs-1"></th>
            <th class="col-xs-2">Alert</th>
            <th class="col-xs-8">Description</th>
            <th class="col-xs-1">Items</th>
         </tr>
         </thead>
         <tbody>
         <tr ng-repeat="notification in notifications" ng-if="notification.show">
            <td><div class='notification-icon' style='background-image: url("{{notification.Icon}}");'></div></td>
            <td>{{notification.Title}}</td>
            <td>{{notification.Description}}</td>
            <td><a href='{{notification.Link}}'>{{notification.ItemCount}} item{{notification.ItemCount > 1 ? 's' : ''}}</a></td>
         </tr>
         </tbody>
      </table>
      
   </div>
</div>

@section Scripts{
   <script src="~/Scripts/Inventory.js"></script>
   <script type="text/javascript">
      function onDataBound() {
         applyGridTooltips();
      }
   </script>
}

<style>
   .row-top-padding { padding-top: 1em; }

   .notification-icon {
      display: inline-block;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background-size: 32px 35px;
      background-position: center center;
      vertical-align: middle;
      line-height: 32px;
      box-shadow: inset 0 0 1px #999, inset 0 0 10px rgba(0, 0, 0, .2);
      margin-left: 5px;
   }

   .logo-big {
      padding-top: 1em;
   }
</style>